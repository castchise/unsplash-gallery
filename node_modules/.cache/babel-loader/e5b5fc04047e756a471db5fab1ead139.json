{"ast":null,"code":"const copyToClipboard = (event, el) => {\n  event.stopPropagation();\n  navigator.clipboard.writeText(el.urls.regular).then(() => {}, err => console.log(err));\n};\n\nasync function toDataURL(url) {\n  return fetch(url).then(response => {\n    return response.blob();\n  }).then(blob => {\n    return URL.createObjectURL(blob);\n  });\n}\n\nfunction addToLocalStorage(item) {\n  const LS = window.localStorage;\n  let storedItems = [...JSON.parse(LS[\"unsplash-app-storage\"] || \"[]\")];\n\n  try {\n    for (let storedItem of storedItems) {\n      if (storedItem.id === item.id) {\n        throw new Error(\"trying to add image duplicate\");\n      }\n    }\n\n    storedItems.push(item);\n  } catch (err) {\n    console.log(err);\n  }\n\n  LS.setItem(\"unsplash-app-storage\", JSON.stringify(storedItems));\n}\n\nfunction clearLocalStorage(category) {\n  const LS = window.localStorage;\n  LS.setItem(category, []);\n}\n\nfunction removeDuplicateObjs(arr) {\n  return arr.filter((v, i, a) => a.findIndex(t => t.id === v.id) === i);\n}\n\nexport { copyToClipboard, toDataURL, addToLocalStorage, removeDuplicateObjs, clearLocalStorage };","map":{"version":3,"sources":["D:/react-playground/unsplash-test/src/utils/index.js"],"names":["copyToClipboard","event","el","stopPropagation","navigator","clipboard","writeText","urls","regular","then","err","console","log","toDataURL","url","fetch","response","blob","URL","createObjectURL","addToLocalStorage","item","LS","window","localStorage","storedItems","JSON","parse","storedItem","id","Error","push","setItem","stringify","clearLocalStorage","category","removeDuplicateObjs","arr","filter","v","i","a","findIndex","t"],"mappings":"AAAA,MAAMA,eAAe,GAAG,CAACC,KAAD,EAAQC,EAAR,KAAe;AACrCD,EAAAA,KAAK,CAACE,eAAN;AACAC,EAAAA,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8BJ,EAAE,CAACK,IAAH,CAAQC,OAAtC,EAA+CC,IAA/C,CACE,MAAM,CAAE,CADV,EAEGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFX;AAID,CAND;;AAQA,eAAeG,SAAf,CAAyBC,GAAzB,EAA8B;AAC5B,SAAOC,KAAK,CAACD,GAAD,CAAL,CACJL,IADI,CACEO,QAAD,IAAc;AAClB,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,GAHI,EAIJR,IAJI,CAIEQ,IAAD,IAAU;AACd,WAAOC,GAAG,CAACC,eAAJ,CAAoBF,IAApB,CAAP;AACD,GANI,CAAP;AAOD;;AAED,SAASG,iBAAT,CAA2BC,IAA3B,EAAiC;AAC/B,QAAMC,EAAE,GAAGC,MAAM,CAACC,YAAlB;AACA,MAAIC,WAAW,GAAG,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWL,EAAE,CAAC,sBAAD,CAAF,IAA8B,IAAzC,CAAJ,CAAlB;;AAEA,MAAI;AACF,SAAK,IAAIM,UAAT,IAAuBH,WAAvB,EAAoC;AAClC,UAAIG,UAAU,CAACC,EAAX,KAAkBR,IAAI,CAACQ,EAA3B,EAA+B;AAC7B,cAAM,IAAIC,KAAJ,CAAU,+BAAV,CAAN;AACD;AACF;;AACDL,IAAAA,WAAW,CAACM,IAAZ,CAAiBV,IAAjB;AACD,GAPD,CAOE,OAAOX,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;;AAEDY,EAAAA,EAAE,CAACU,OAAH,CAAW,sBAAX,EAAmCN,IAAI,CAACO,SAAL,CAAeR,WAAf,CAAnC;AACD;;AAED,SAASS,iBAAT,CAA2BC,QAA3B,EAAqC;AACnC,QAAMb,EAAE,GAAGC,MAAM,CAACC,YAAlB;AACAF,EAAAA,EAAE,CAACU,OAAH,CAAWG,QAAX,EAAqB,EAArB;AACD;;AAED,SAASC,mBAAT,CAA6BC,GAA7B,EAAkC;AAChC,SAAOA,GAAG,CAACC,MAAJ,CAAW,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,KAAaA,CAAC,CAACC,SAAF,CAAaC,CAAD,IAAOA,CAAC,CAACd,EAAF,KAASU,CAAC,CAACV,EAA9B,MAAsCW,CAA9D,CAAP;AACD;;AAED,SACExC,eADF,EAEEa,SAFF,EAGEO,iBAHF,EAIEgB,mBAJF,EAKEF,iBALF","sourcesContent":["const copyToClipboard = (event, el) => {\n  event.stopPropagation();\n  navigator.clipboard.writeText(el.urls.regular).then(\n    () => {},\n    (err) => console.log(err)\n  );\n};\n\nasync function toDataURL(url) {\n  return fetch(url)\n    .then((response) => {\n      return response.blob();\n    })\n    .then((blob) => {\n      return URL.createObjectURL(blob);\n    });\n}\n\nfunction addToLocalStorage(item) {\n  const LS = window.localStorage;\n  let storedItems = [...JSON.parse(LS[\"unsplash-app-storage\"] || \"[]\")];\n\n  try {\n    for (let storedItem of storedItems) {\n      if (storedItem.id === item.id) {\n        throw new Error(\"trying to add image duplicate\");\n      }\n    }\n    storedItems.push(item);\n  } catch (err) {\n    console.log(err);\n  }\n\n  LS.setItem(\"unsplash-app-storage\", JSON.stringify(storedItems));\n}\n\nfunction clearLocalStorage(category) {\n  const LS = window.localStorage;\n  LS.setItem(category, []);\n}\n\nfunction removeDuplicateObjs(arr) {\n  return arr.filter((v, i, a) => a.findIndex((t) => t.id === v.id) === i);\n}\n\nexport {\n  copyToClipboard,\n  toDataURL,\n  addToLocalStorage,\n  removeDuplicateObjs,\n  clearLocalStorage\n};\n"]},"metadata":{},"sourceType":"module"}